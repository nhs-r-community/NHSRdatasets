<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Tom Jemmett, The Strategy Unit" />


<title>ae_attendances dataset</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">ae_attendances dataset</h1>
<h4 class="author"><a href="mailto:thomas.jemmett@nhs.net">Tom Jemmett</a>, <a href="https://www.strategyunitwm.nhs.uk/">The Strategy Unit</a></h4>
<h4 class="date">15/08/2019</h4>



<p>This vignette explains how to use the <code>ae_attendances</code> dataset in R, and also details where it comes from and how it is generated.</p>
<p>The data is sourced from <a href="https://www.england.nhs.uk/statistics/statistical-work-areas/ae-waiting-times-and-activity/">NHS England Statistical Work Areas</a> and is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>.</p>
<p>The data contains all reported A&amp;E attendances for the period April 2016 through March 2019</p>
<p>The dataset contains:</p>
<ul>
<li><strong>period</strong>: the month that this activity relates to, stored as a date (1st of each month)</li>
<li><strong>org_code</strong>: the <a href="https://digital.nhs.uk/services/organisation-data-service">ODS</a> code for the organisation that this activity relates to</li>
<li><strong>type</strong>: the <a href="https://digital.nhs.uk/services/organisation-data-service">Department Type</a> for this activity, either 1, 2, or other</li>
<li><strong>attendances</strong>: the number of attendances for this department type at this organisation for this month</li>
<li><strong>breaches</strong>: the number of attendances that breached the 4 hour target</li>
<li><strong>admissions</strong>: the number of attendances that resulted in an admission to the hospital</li>
</ul>
<p>First let’s load some packages and the dataset and show the first 10 rows of data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(knitr)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(scales)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">library</span>(ggrepel)</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; Loading required package: ggplot2</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">library</span>(lubridate)</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; Attaching package: &#39;lubridate&#39;</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; The following object is masked from &#39;package:base&#39;:</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt;     date</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#&gt; Attaching package: &#39;dplyr&#39;</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt; The following objects are masked from &#39;package:lubridate&#39;:</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">#&gt;     intersect, setdiff, union</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">#&gt; The following objects are masked from &#39;package:stats&#39;:</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="kw">library</span>(forcats)</a>
<a class="sourceLine" id="cb1-24" title="24"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb1-25" title="25"></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="kw">library</span>(NHSRdatasets)</a>
<a class="sourceLine" id="cb1-27" title="27"></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="kw">data</span>(<span class="st">&quot;ae_attendances&quot;</span>)</a>
<a class="sourceLine" id="cb1-29" title="29"></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co"># format for display</span></a>
<a class="sourceLine" id="cb1-31" title="31">ae_attendances <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="st">  </span><span class="co"># set the period column to show in Month-Year format</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(period), format, <span class="st">&quot;%b-%y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-34" title="34"><span class="st">  </span><span class="co"># set the numeric columns to have a comma at the 1000&#39;s place</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(attendances, breaches, admissions), comma) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-36" title="36"><span class="st">  </span><span class="co"># show the first 10 rows</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="st">  </span><span class="co"># format as a table</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="st">  </span><span class="kw">kable</span>()</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">period</th>
<th align="left">org_code</th>
<th align="left">type</th>
<th align="left">attendances</th>
<th align="left">breaches</th>
<th align="left">admissions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">RF4</td>
<td align="left">1</td>
<td align="left">21,289</td>
<td align="left">2,879</td>
<td align="left">5,060</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">RF4</td>
<td align="left">2</td>
<td align="left">813</td>
<td align="left">22</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">RF4</td>
<td align="left">other</td>
<td align="left">2,850</td>
<td align="left">6</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">R1H</td>
<td align="left">1</td>
<td align="left">30,210</td>
<td align="left">5,902</td>
<td align="left">6,943</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">R1H</td>
<td align="left">2</td>
<td align="left">807</td>
<td align="left">11</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">R1H</td>
<td align="left">other</td>
<td align="left">11,352</td>
<td align="left">136</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">AD913</td>
<td align="left">other</td>
<td align="left">4,381</td>
<td align="left">2</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">RYX</td>
<td align="left">other</td>
<td align="left">19,562</td>
<td align="left">258</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Mar-17</td>
<td align="left">RQM</td>
<td align="left">1</td>
<td align="left">17,414</td>
<td align="left">2,030</td>
<td align="left">3,597</td>
</tr>
<tr class="even">
<td align="left">Mar-17</td>
<td align="left">RQM</td>
<td align="left">other</td>
<td align="left">7,817</td>
<td align="left">86</td>
<td align="left">0</td>
</tr>
</tbody>
</table>
<p>We can calculate the 4 hours performance for England as a whole like so:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">england_performance &lt;-<span class="st"> </span>ae_attendances <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(period) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="st">  </span><span class="kw">summarise_at</span>(<span class="kw">vars</span>(attendances, breaches), sum) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">performance =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>breaches <span class="op">/</span><span class="st"> </span>attendances)</a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co"># format for display</span></a>
<a class="sourceLine" id="cb2-7" title="7">england_performance <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="st">  </span><span class="co"># same format options as above</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(period), format, <span class="st">&quot;%b-%y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(attendances, breaches), comma) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="st">  </span><span class="co"># this time show the performance column as a percentage</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(performance), percent) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="st">  </span><span class="co"># show the first 10 rows and format as a table</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="st">  </span><span class="kw">kable</span>()</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">period</th>
<th align="left">attendances</th>
<th align="left">breaches</th>
<th align="left">performance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Apr-16</td>
<td align="left">1,867,781</td>
<td align="left">186,122</td>
<td align="left">90.04%</td>
</tr>
<tr class="even">
<td align="left">May-16</td>
<td align="left">2,070,340</td>
<td align="left">201,329</td>
<td align="left">90.28%</td>
</tr>
<tr class="odd">
<td align="left">Jun-16</td>
<td align="left">1,958,802</td>
<td align="left">184,912</td>
<td align="left">90.56%</td>
</tr>
<tr class="even">
<td align="left">Jul-16</td>
<td align="left">2,079,034</td>
<td align="left">201,973</td>
<td align="left">90.29%</td>
</tr>
<tr class="odd">
<td align="left">Aug-16</td>
<td align="left">1,932,901</td>
<td align="left">174,419</td>
<td align="left">90.98%</td>
</tr>
<tr class="even">
<td align="left">Sep-16</td>
<td align="left">1,952,464</td>
<td align="left">182,597</td>
<td align="left">90.65%</td>
</tr>
<tr class="odd">
<td align="left">Oct-16</td>
<td align="left">2,001,816</td>
<td align="left">219,137</td>
<td align="left">89.05%</td>
</tr>
<tr class="even">
<td align="left">Nov-16</td>
<td align="left">1,907,871</td>
<td align="left">221,713</td>
<td align="left">88.38%</td>
</tr>
<tr class="odd">
<td align="left">Dec-16</td>
<td align="left">1,944,567</td>
<td align="left">268,818</td>
<td align="left">86.18%</td>
</tr>
<tr class="even">
<td align="left">Jan-17</td>
<td align="left">1,895,272</td>
<td align="left">281,612</td>
<td align="left">85.14%</td>
</tr>
</tbody>
</table>
<p>We can now plot the monthly performance</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">ggplot</span>(england_performance, <span class="kw">aes</span>(period, performance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Month of attendance&quot;</span>,</a>
<a class="sourceLine" id="cb3-6" title="6">       <span class="dt">y =</span> <span class="st">&quot;% of attendances that met the 4 hour standard&quot;</span>,</a>
<a class="sourceLine" id="cb3-7" title="7">       <span class="dt">title =</span> <span class="st">&quot;NHS England A&amp;E 4 Hour Performance&quot;</span>,</a>
<a class="sourceLine" id="cb3-8" title="8">       <span class="dt">caption =</span> <span class="st">&quot;Source: NHS England Statistical Work Areas (OGL v3.0)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We can clearly see the “Winter Pressures” where performance drops.</p>
<p>We can also inspect performance for the <a href="https://www.datadictionary.nhs.uk/data_dictionary/attributes/a/acc/accident_and_emergency_department_type_de.asp">different types of department</a>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">ae_attendances <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(period, type) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">summarise_if</span>(is.numeric, sum) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">performance =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>breaches <span class="op">/</span><span class="st"> </span>attendances) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(period, performance, <span class="dt">colour =</span> type)) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="st">  </span><span class="co">#facet_wrap(vars(type), nrow = 1) +</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Month of attendance&quot;</span>,</a>
<a class="sourceLine" id="cb4-12" title="12">       <span class="dt">y =</span> <span class="st">&quot;% of attendances that met the 4 hour standard&quot;</span>,</a>
<a class="sourceLine" id="cb4-13" title="13">       <span class="dt">title =</span> <span class="st">&quot;NHS England A&amp;E 4 Hour Performance&quot;</span>,</a>
<a class="sourceLine" id="cb4-14" title="14">       <span class="dt">subtitle =</span> <span class="st">&quot;By Department Type&quot;</span>,</a>
<a class="sourceLine" id="cb4-15" title="15">       <span class="dt">caption =</span> <span class="st">&quot;Source: NHS England Statistical Work Areas (OGL v3.0)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>From this it appears as if only the type 1 departments have the seasonal drops, type 2 and “other” departments remain pretty consistent.</p>
<div id="what-are-the-best-and-worst-trusts-for-performance" class="section level2">
<h2>What are the best and worst trusts for performance?</h2>
<p>We could create a similar table of data for performance by each individual trust, but it would be useful to only look at trusts that have a type 1 department as it appears from the chart above that these departments have the largest variation.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">performance_by_trust &lt;-<span class="st"> </span>ae_attendances <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(org_code, period) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="st">  </span><span class="co"># make sure that this trust has a type 1 department</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">any</span>(type <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="st">  </span><span class="kw">summarise_at</span>(<span class="kw">vars</span>(attendances, breaches), sum) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">performance =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>breaches <span class="op">/</span><span class="st"> </span>attendances)</a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co"># format for display</span></a>
<a class="sourceLine" id="cb5-9" title="9">performance_by_trust <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(period), format, <span class="st">&quot;%b-%y&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(attendances, breaches), comma) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(performance), percent) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="st">  </span><span class="kw">kable</span>()</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">org_code</th>
<th align="left">period</th>
<th align="left">attendances</th>
<th align="left">breaches</th>
<th align="left">performance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Oct-17</td>
<td align="left">35,744</td>
<td align="left">3,663</td>
<td align="left">89.75%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Nov-17</td>
<td align="left">34,314</td>
<td align="left">3,982</td>
<td align="left">88.40%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Dec-17</td>
<td align="left">34,082</td>
<td align="left">5,430</td>
<td align="left">84.07%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Jan-18</td>
<td align="left">33,758</td>
<td align="left">4,906</td>
<td align="left">85.47%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Feb-18</td>
<td align="left">30,520</td>
<td align="left">4,111</td>
<td align="left">86.53%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Mar-18</td>
<td align="left">35,233</td>
<td align="left">5,496</td>
<td align="left">84.40%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Apr-18</td>
<td align="left">33,127</td>
<td align="left">3,809</td>
<td align="left">88.50%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">May-18</td>
<td align="left">35,797</td>
<td align="left">4,792</td>
<td align="left">86.61%</td>
</tr>
<tr class="odd">
<td align="left">R0A</td>
<td align="left">Jun-18</td>
<td align="left">34,070</td>
<td align="left">3,616</td>
<td align="left">89.39%</td>
</tr>
<tr class="even">
<td align="left">R0A</td>
<td align="left">Jul-18</td>
<td align="left">35,081</td>
<td align="left">4,723</td>
<td align="left">86.54%</td>
</tr>
</tbody>
</table>
<p>From this table we can calculate the overall performance by each trust and then organise the trusts by their overall performance.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">performance_by_trust_ranking &lt;-<span class="st"> </span>performance_by_trust <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">performance =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">sum</span>(breaches) <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(attendances)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">  </span><span class="kw">arrange</span>(performance) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">  </span><span class="kw">pull</span>(org_code) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="st">  </span><span class="kw">as.character</span>()</a>
<a class="sourceLine" id="cb6-6" title="6"></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="kw">print</span>(<span class="st">&quot;Bottom 5&quot;</span>)</a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt; [1] &quot;Bottom 5&quot;</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="kw">head</span>(performance_by_trust_ranking, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">#&gt; [1] &quot;RQW&quot; &quot;RWD&quot; &quot;RXW&quot; &quot;RX1&quot; &quot;RHU&quot;</span></a>
<a class="sourceLine" id="cb6-11" title="11"></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="kw">print</span>(<span class="st">&quot;Top 5&quot;</span>)</a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">#&gt; [1] &quot;Top 5&quot;</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="kw">tail</span>(performance_by_trust_ranking, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt; [1] &quot;RA4&quot; &quot;RBD&quot; &quot;RVW&quot; &quot;RCU&quot; &quot;RC9&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">performance_by_trust <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(org_code), fct_relevel, performance_by_trust_ranking) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">  </span><span class="kw">filter</span>(org_code <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="kw">head</span>(performance_by_trust_ranking, <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb7-5" title="5">                         <span class="kw">tail</span>(performance_by_trust_ranking, <span class="dv">5</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(period, performance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(org_code), <span class="dt">nrow =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Month of attendance&quot;</span>,</a>
<a class="sourceLine" id="cb7-13" title="13">       <span class="dt">y =</span> <span class="st">&quot;% of attendances that met the 4 hour standard&quot;</span>,</a>
<a class="sourceLine" id="cb7-14" title="14">       <span class="dt">title =</span> <span class="st">&quot;NHS England A&amp;E 4 Hour Performance&quot;</span>,</a>
<a class="sourceLine" id="cb7-15" title="15">       <span class="dt">subtitle =</span> <span class="st">&quot;Bottom 5/Top 5 over the whole 3 years&quot;</span>,</a>
<a class="sourceLine" id="cb7-16" title="16">       <span class="dt">caption =</span> <span class="st">&quot;Source: NHS England Statistical Work Areas (OGL v3.0)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="benchmarking" class="section level2">
<h2>Benchmarking</h2>
<p>It is sometimes useful to see how an organisation stacks up against all of the other organisations. Below we create a chart where each organisation is shown as a point, ordered by performance from left (highest performance) to right (lowest) performance.</p>
<p>It’s useful to indicate certain organisations on the chart, below I am showing the 3 organisations that are at the lower quartile, median and upper quartile, however you could change this to instead pick out specific organisations (using a reference table and <code>left_join</code> or hard coding with <code>case_when</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">ae_attendances <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="st">  </span><span class="kw">filter</span>(period <span class="op">==</span><span class="st"> </span><span class="kw">last</span>(period)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="st">  </span><span class="kw">group_by</span>(org_code) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">any</span>(type <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw">summarise_at</span>(<span class="kw">vars</span>(attendances, breaches), sum) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">performance =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>breaches<span class="op">/</span>attendances,</a>
<a class="sourceLine" id="cb8-7" title="7">         <span class="dt">overall_performance =</span> <span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">sum</span>(breaches)<span class="op">/</span><span class="kw">sum</span>(attendances),</a>
<a class="sourceLine" id="cb8-8" title="8">         <span class="dt">org_code =</span> <span class="kw">fct_reorder</span>(org_code, <span class="op">-</span>performance)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="st">  </span><span class="co">#</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="st">  </span><span class="kw">arrange</span>(performance) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="st">  </span><span class="co"># lets highlight the organsiations that are at the lower and upper quartile</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="st">  </span><span class="co"># and at the median. First &quot;tile&quot; the data into 4 groups, then we use the</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="st">  </span><span class="co"># lag function to check to see if the value changes between rows. We will get</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="st">  </span><span class="co"># NA for the first row, so replace this with FALSE</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">highlight =</span> <span class="kw">ntile</span>(<span class="dt">n =</span> <span class="dv">4</span>),</a>
<a class="sourceLine" id="cb8-16" title="16">         <span class="dt">highlight =</span> <span class="kw">replace_na</span>(highlight <span class="op">!=</span><span class="st"> </span><span class="kw">lag</span>(highlight), <span class="ot">FALSE</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-17" title="17"></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(org_code, performance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> overall_performance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> highlight), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>, <span class="dt">pch =</span> <span class="dv">21</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">ifelse</span>(highlight, <span class="kw">as.character</span>(org_code), <span class="ot">NA</span>)),</a>
<a class="sourceLine" id="cb8-22" title="22">                  <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-23" title="23"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;TRUE&quot;</span> =<span class="st"> &quot;black&quot;</span>,</a>
<a class="sourceLine" id="cb8-24" title="24">                               <span class="st">&quot;FALSE&quot;</span> =<span class="st"> </span><span class="ot">NA</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-25" title="25"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-26" title="26"><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb8-27" title="27"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb8-28" title="28">        <span class="dt">axis.text.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb8-29" title="29">        <span class="dt">axis.line =</span> <span class="kw">element_line</span>(),</a>
<a class="sourceLine" id="cb8-30" title="30">        <span class="dt">axis.ticks.y =</span> <span class="kw">element_line</span>())</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
