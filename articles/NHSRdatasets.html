<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NHSRdatasets • NHSRdatasets</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="NHSRdatasets">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-146859070-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146859070-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NHSRdatasets</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/NHSRdatasets.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ae_attendances.html">ae_attendances dataset</a>
    </li>
    <li>
      <a href="../articles/LOS_model.html">LOS_model: A simulated hospital length-of-stay dataset</a>
    </li>
    <li>
      <a href="../articles/stranded_model.html">Stranded Model Tutorial</a>
    </li>
    <li>
      <a href="../articles/synthetic_news_data.html">Synthetic NEWS Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nhs-r-community/NHSRdatasets" class="external-link">
    <span class="fa fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>NHSRdatasets</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nhs-r-community/NHSRdatasets/blob/main/vignettes/NHSRdatasets.Rmd" class="external-link"><code>vignettes/NHSRdatasets.Rmd</code></a></small>
      <div class="hidden name"><code>NHSRdatasets.Rmd</code></div>

    </div>

    
    
<p>The package NHSRdatasets has several datasets from a range of areas
related to health and care.</p>
<p>Once installed, as for any package, this will have to be called
through:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nhs-r-community/NHSRdatasets" class="external-link">NHSRdatasets</a></span><span class="op">)</span></span></code></pre></div>
<p>To view the datasets (which is useful as CRAN and the GitHub versions
may differ), type:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>NHSRdatasets<span class="sc">::</span></span></code></pre></div>
<p>If you are using RStudio an automatic prompt will appear with all the
datasets available. It’s also possible to bring the view up by putting
the cursor after the second colon and using the tab key.</p>
<div class="section level2">
<h2 id="viewing-the-data-in-the-console">Viewing the data in the console<a class="anchor" aria-label="anchor" href="#viewing-the-data-in-the-console"></a>
</h2>
<p>Once a dataset is selected the first 10 rows will appear in the
console:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">NHSRdatasets</span><span class="fu">::</span><span class="va"><a href="../reference/ae_attendances.html">ae_attendances</a></span></span></code></pre></div>
<p>This is because the data is stored as <a href="https://r4ds.had.co.nz/tibbles.html" class="external-link">tibbles</a>. Tibbles are the
same as a data frame but they change the behaviour slightly to improve
some features, one of which is how many rows appear in the console which
defaults to a more manageable 10.</p>
<p>Another feature is that if you have a lot of columns and only a few
are shown in the console, the names of the obscured columns are printed
under the top 10 rows. In this example the column
<code>admissions</code> couldn’t fit onto the console but is listed
underneath the data.</p>
<pre><code><span><span class="co"># ℹ 12,755 more rows</span></span>
<span><span class="co"># ℹ 1 more variable: admissions &lt;dbl&gt;</span></span>
<span><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span></code></pre>
<p>You can also return many more rows by applying the
<code>print(n =)</code> function to the code like:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">NHSRdatasets</span><span class="fu">::</span><span class="va"><a href="../reference/ae_attendances.html">ae_attendances</a></span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="printing-tibbles-in-rmarkdown-or-quarto">Printing tibbles in RMarkdown or Quarto<a class="anchor" aria-label="anchor" href="#printing-tibbles-in-rmarkdown-or-quarto"></a>
</h3>
<p>Tibbles in an RMarkdown or Quarto output, like this vignette, will
print every row as the behaviour that is coded to return the top 10 rows
is related to how it is viewed within RStudio, not in a report. To
restrict the number of rows in an RMarkdown output like html the code
will have to be:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">NHSRdatasets</span><span class="fu">::</span><span class="va"><a href="../reference/ae_attendances.html">ae_attendances</a></span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;       period org_code type attendances breaches admissions</span></span>
<span><span class="co">#&gt; 1 2017-03-01      RF4    1       21289     2879       5060</span></span>
<span><span class="co">#&gt; 2 2017-03-01      RF4    2         813       22          0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="creating-an-object">Creating an object<a class="anchor" aria-label="anchor" href="#creating-an-object"></a>
</h2>
<p>Creating an object of the dataset you are working with makes it
easier to view the whole of the dataset, use functionality within the
IDE (like RStudio or VS Code) to order/search and means you can change
the data by adding new columns for example.</p>
<p>The NHS-R Community slides from the Introduction to R and R Studio go
into more detail on <a href="https://intro-r-rstudio.nhsrcommunity.com/session-objects.html#/title-slide" class="external-link">objects</a>.</p>
<p>To create an object and open it in RStudio:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">NHSRdatasets</span><span class="fu">::</span><span class="va"><a href="../reference/ae_attendances.html">ae_attendances</a></span></span></code></pre></div>
<p>A new object called <code>dat</code> will appear in the Environment
tab of the top right pane of RStudio (if you have the default layout).
The object also says it has 12765 obs (which are rows) and 6 variables
(which are columns). Clicking on the blue circle with a white arrow next
to the word <code>dat</code> will expand the view in the Environment tab
and clicking on the word <code>dat</code> will open the data in a new
tab in the top left panel.</p>
<p>If you are not using RStudio and want to use the Console where code
is run directly use:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p>and you will see this code in the Console when you click on the name
as every action in RStudio is translated to code in the Console.</p>
</div>
<div class="section level2">
<h2 id="finding-help">Finding help<a class="anchor" aria-label="anchor" href="#finding-help"></a>
</h2>
<p>To find out about the dataset you can use the question mark before it
in code:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">ons_mortality</span></span></code></pre></div>
<p>You will see the <code>Usage</code> says:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ons_mortality"</span><span class="op">)</span></span></code></pre></div>
<p>This does the same as creating an object using the code
<code>ons_mortality &lt;- NHSRdatasets::ons_mortality</code> and uses
the package utils which is available through RStudio automatically. It
also doesn’t require a name like the above code as it uses the existing
name for the data.</p>
<p>If you try to use the assignment operator with the function it will
appear as a <code>vector</code> just saying “ons_mortality”.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ons</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ons_mortality"</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/StatsGary" class="external-link">Gary Hutson</a>, <a href="https://github.com/tomjemmett" class="external-link">Tom Jemmett</a>, <a href="https://www.mainard.co.uk" class="external-link">Chris Mainey</a>, Fran Barton, <a href="https://github.com/Lextuga007" class="external-link">Zoë Turner</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
